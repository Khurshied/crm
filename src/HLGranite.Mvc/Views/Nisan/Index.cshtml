@model IEnumerable<HLGranite.Mvc.Models.Nisan>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

@using (Html.BeginForm()) {
    <p>                
        @Html.DropDownList("SoldTo", "All Customer")
        @Html.DropDownList("Status")
        @Html.TextBox("SearchString") <input type="submit" class="search" value="" />
    </p>
}

@{
    var grid = new WebGrid(source: Model, rowsPerPage: 30);
}

@functions{
    public string toLower(string sender)
    {
        return sender.ToLower();
    }
}

<div id="grid">
    @grid.GetHtml(
        htmlAttributes: new {id = "nisan_table"},
        tableStyle: "grid",
        headerStyle: "head",
        alternatingRowStyle: "alt",
        columns: grid.Columns(
            grid.Column("Status.Name","Status", format: @<text><span class="status @toLower(item.Status.Name)">@item.Status.Name</span></text>),
            grid.Column("SoldTo.DisplayName","To"),
            grid.Column("Stock.Name", "Batu"),
            grid.Column("Rumi", "Name", format: @<text><a href="@Href("~/Nisan/Edit/" + item.Id)">@item</a></text>),
            grid.Column("Jawi", "Jawi"),
            grid.Column("Death", "Death"),
            grid.Column("Deathm", "Muslim"),
            grid.Column("Remarks","Remarks"),
            grid.Column("Assignee","Assignee"),
            grid.Column("", "", style: "delete", format: @<text>@Html.ActionLink("Delete" , "Delete", new {id=item.Id })</text>)
        )
    )
</div>
